plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
add_annotations(xref = 'paper', yref = 'y', x = 0.14, y = y,
xanchor = 'right',
text = y,
font = list(family = 'Arial', size = 12,
color = 'rgb(67, 67, 67)'),
showarrow = FALSE, align = 'right')
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 10, t = 140, b = 80)) %>%
add_annotations(xref = 'paper', yref = 'y', x = 0.14, y = y,
xanchor = 'right',
text = y,
font = list(family = 'Arial', size = 12,
color = 'rgb(67, 67, 67)'),
showarrow = FALSE, align = 'right')
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 10, t = 140, b = 80))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 10, b = 80))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 5,))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 5))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 2))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 120, r = 0))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 140, r = 0))# %>%
plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 160, r = 0))# %>%
additional_plot <- plot_ly(x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h") %>%
layout(margin = list(l = 160, r = 0))
setwd("C:/Users/Alan/Desktop/INFO_201/Assignments/a6-mapping-shootings-alanaphayarath")
styler:::style_active_file()
lintr::lint("analysis.R")
lintr::lint("analysis.R")
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries) %>% rename(state = "State")
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries) %>% rename(state = "sadastate")
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries) %>% rename_(state = "State")
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries) %>% rename(state = State)
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries) %>% rename(state = Test)
View(summary_table)
colnames(summary_table) <- c("State", "Number of Injuries")
styler:::style_active_file()
lintr::lint("analysis.R")
library(dplyr)
library(plotly)
# Summary Information -----------------------------------------------------
shootings_2018 <- read.csv("data/shootings-2018.csv")
num_shootings <- nrow(shootings_2018)
num_deaths <- sum(shootings_2018$num_killed)
cities <- shootings_2018 %>%
filter(num_injured > 10) %>%
select(city)
city_most_killed <- shootings_2018 %>%
filter(max(num_killed) == num_killed) %>%
select(city)
# Summary Table -----------------------------------------------------------
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries)
colnames(summary_table) <- c("State", "Number of Injuries")
# Description of a Particular Incident ------------------------------------
incident <- shootings_2018 %>%
filter(max(num_killed) == num_killed)
# Interactive Map ---------------------------------------------------------
# Found how to set a range of sizes from link below
# https://stackoverflow.com/questions/39859647/set-marker-size-in-plotly?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
# Also found how to make the interactive map from the link below
# https://plot.ly/r/scatter-plots-on-maps/#style-scatter-map-layout
interactive_map <- plot_geo(shootings_2018,
lat = shootings_2018$lat,
lon = shootings_2018$lng
) %>%
add_markers(
text = paste(paste("State:", shootings_2018$state),
paste("Injuries:", shootings_2018$num_injured),
paste("Deaths:", shootings_2018$num_killed),
sep = "<br />"
),
size = shootings_2018$num_injured,
sizes = c(10, 400)
) %>%
layout(title = "Shootings in 2018", geo = list(scope = "usa"))
# Additional Plot ---------------------------------------------------------
state_num_shootings <- shootings_2018 %>%
group_by(state) %>%
summarise("Shootings" = n())
additional_plot <- plot_ly(
x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h"
) %>%
layout(margin = list(l = 160, r = 0))
library(dplyr)
library(plotly)
# Summary Information -----------------------------------------------------
shootings_2018 <- read.csv("data/shootings-2018.csv")
num_shootings <- nrow(shootings_2018)
num_deaths <- sum(shootings_2018$num_killed)
cities <- shootings_2018 %>%
filter(num_injured > 10) %>%
select(city)
city_most_killed <- shootings_2018 %>%
filter(max(num_killed) == num_killed) %>%
select(city)
# Summary Table -----------------------------------------------------------
summary_table <- shootings_2018 %>%
group_by(state) %>%
summarise(number_of_injuries = sum(num_injured)) %>%
arrange(-number_of_injuries)
colnames(summary_table) <- c("State", "Number of Injuries")
# Description of a Particular Incident ------------------------------------
incident <- shootings_2018 %>%
filter(max(num_killed) == num_killed)
# Interactive Map ---------------------------------------------------------
# Found how to set a range of sizes from link below
# https://stackoverflow.com/questions/39859647/set-marker-size-in-plotly?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
# Also found how to make the interactive map from the link below
# https://plot.ly/r/scatter-plots-on-maps/#style-scatter-map-layout
interactive_map <- plot_geo(shootings_2018,
lat = shootings_2018$lat,
lon = shootings_2018$lng
) %>%
add_markers(
text = paste(paste("State:", shootings_2018$state),
paste("Injuries:", shootings_2018$num_injured),
paste("Deaths:", shootings_2018$num_killed),
sep = "<br />"
),
size = shootings_2018$num_injured,
sizes = c(10, 400)
) %>%
layout(title = "Shootings in 2018", geo = list(scope = "usa"))
# Additional Plot ---------------------------------------------------------
state_num_shootings <- shootings_2018 %>%
group_by(state) %>%
summarise("Shootings" = n())
additional_plot <- plot_ly(
x = state_num_shootings$Shootings,
y = state_num_shootings$state,
type = "bar", orientation = "h"
) %>%
layout(margin = list(l = 160, r = 0))
View(summary_table)
View(additional_plot)
View(cities)
View(city_most_killed)
View(incident)
View(interactive_map)
View(shootings_2018)
View(state_num_shootings)
temperatures <- read.csv("data/data-society-global-climate-change-data/GlobalLandTemperatureByCountry.csv")
setwd("C:/Users/Alan/Desktop/INFO_201/Final_Project/Info-201-BA3")
temperatures <- read.csv("data/data-society-global-climate-change-data/GlobalLandTemperatureByCountry.csv")
temperatures <- read.csv("data\data-society-global-climate-change-data/GlobalLandTemperaturesByCountry.csv")
temperatures <- read.csv("data/data-society-global-climate-change-data/GlobalLandTemperaturesByCountry.csv")
View(temperatures)
temperatures <- read.csv("data/data-society-global-climate-change-data/GlobalLandTemperaturesByState.csv")
View(temperatures)
library(dplyr)
library(plotly)
View(temperatures)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt) %>%
select(dt)
View(temperatures_by_country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt) %>%
summarise(dt = dt, avgTemp = mean(AverageTemperature)) %>%
select(dt, avgTemp)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature)) %>%
select(avgTemp)
View(temperatures_by_country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature)) %>%
select(avgTemp, dt, Country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature)) %>%
select(avgTemp, dt, Country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature)) %>%
select(avgTemp, dt)
View(temperatures_by_country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
select(dt, AverageTemperature, Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature)) %>%
select(avgTemp, dt)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
select(dt, AverageTemperature, Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature)) %>%
select(avgTemp, dt, Country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
select(dt, AverageTemperature, Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature), Country = Country) %>%
select(avgTemp, dt, Country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
select(dt, AverageTemperature, Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature), Country = first(Country)) %>%
select(avgTemp, dt, Country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
# select(dt, AverageTemperature, Country) %>%
group_by(dt) %>%
summarise(avgTemp = mean(AverageTemperature), Country = first(Country)) %>%
select(avgTemp, dt, Country)
View(temperatures_by_country)
temperatures_by_country <- temperatures %>%
group_by(Country) %>%
select(dt, AverageTemperature, Country)
View(temperatures_by_country)
temperatures <- read.csv("data/data-society-global-climate-change-data/GlobalLandTemperaturesByCountry.csv")
View(temperatures)
temperatures <- read.csv("data/data-society-global-climate-change-data/GlobalLandTemperaturesByCountry.csv")
plot_geo(temperatures)
?plot_geo
plot_geo(temperatures) %>%
add_trace(
locations = ~Country,
color = ~total.exports, colors = 'Purples'
)
plot_geo(temperatures) %>%
add_trace(
locations = ~Country,
)
View(temperatures)
plot_geo(temperatures) %>%
add_trace(
locations = ~Country)
plot_geo(temperatures) %>%
add_trace(
locations = ~Country, color = ~Country)
locations = ~Country, color = ~Country) %>%
geo = list(
locations = ~Country, color = ~Country) %>%
geo = list(
plot_geo(temperatures) %>%
add_trace(
locations = ~Country, color = ~Country) %>%
geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
plot_geo(temperatures) %>%
add_trace(
locations = ~Country, color = ~Country) %>%
geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
plot_geo(temperatures) %>%
add_trace(
locations = ~Country, color = ~Country) %>%
geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
locations = ~Country, color = ~Country) %>%
geo = list(
plot_geo(temperatures) %>%
add_trace(
locations = ~Country, color = ~Country) %>%
geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
locations = ~Country, color = ~Country) %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
plot_geo(temperatures) %>%
add_trace(
locations = ~Country, color = ~Country) %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
library(ggplot2)
ggplot() +
geom_map(data = map_data("world"), map = map_data("world"))
View(temperatures)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature %>%
locations = ~Country, color = ~Country) %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature %>%
locations = ~Country, color = ~Country) %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature,
locations = ~Country, color = ~Country) %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature,
locations = c("USA", "AFG"), color = ~Country) %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature,
locations = c("USA", "AFG"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature,
locations = c("USA"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = ~AverageTemperature,
locations = c("USA"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = c(1,200),
locations = c("USA", "CAN"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo(temperatures) %>%
add_trace(
z = c(1),
locations = c("USA"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
View(temperatures)
temp_test <- temperatures %>%
filter(dt = 1772-11-01)
temp_test <- temperatures %>%
filter(dt == 1772-11-01)
View(temp_test)
temp_test <- temperatures %>%
filter(dt == "1772-11-01")
View(temp_test)
plot_geo(temp_test) %>%
add_trace(
z = c(1),
locations = c("USA"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo() %>%
add_trace(
z = c(1, 20),
locations = c("USA", "CHN"), color = ~AverageTemperature, colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo() %>%
add_trace(
z = c(1, 20),
locations = c("USA", "CHN"), color = ~c(1, 20), colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo() %>%
add_trace(
z = c(1, 20),
locations = c("Italy", "CHN"), color = ~c(1, 20), colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
plot_geo() %>%
add_trace(
z = c(1, 20),
locations = c("United State", "CHN"), color = ~c(1, 20), colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
?countrycode
??countrycode
countrycode('Albania', 'country.name', 'iso3c')
plot_geo() %>%
add_trace(
z = c(1, 20),
locations = c("USA", "CHN"), color = ~c(1, 20), colors= "Blues") %>%
layout(geo = list(
showframe = FALSE,
showcoastlines = FALSE,
projection = list(type = 'Mercator')
)
)
